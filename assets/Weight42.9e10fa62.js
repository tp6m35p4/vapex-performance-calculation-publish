import{c as l,o as g,a as M,u as m,z as L,b as y,e,p as t,w,t as b,f as v,i as D,h as z,k as q,l as j,F as E,m as F}from"./index.c0e56da5.js";import{C as P,p as G,a as Y,b as Z,L as H,c as K,d as X,P as J,S as Q,W as h,_,F as I,e as S,f as A}from"./WeightP.368dc09f.js";import{p as $,_ as i,E as W,F as ee,g as V,m as te,i as le,z as O,P as T,G as R,H as ae,n as ne,h as re,o as se,a as ue}from"./calculatedData.b2ab4641.js";const oe={__name:"WeightChart42",props:{zfw:{type:Object,required:!0},tow:{type:Object,required:!0},ldw:{type:Object,required:!0},chartId:{type:String,default:"scatter-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>({})},plugins:Array},setup(C){const n=C;P.register(G,Y,Z,H,K,X,J);const a=l(()=>({datasets:[{label:"ZFW",fill:!1,borderColor:"#f87979",backgroundColor:"#f87979",data:[{x:n.zfw.cg,y:n.zfw.weight}]},{label:"TOW",fill:!1,borderColor:"#f5b642",backgroundColor:"#f5b642",data:[{x:n.tow.cg,y:n.tow.weight}]},{label:"LDW",fill:!1,borderColor:"#32CD32",backgroundColor:"#32CD32",data:[{x:n.ldw.cg,y:n.ldw.weight}]},{label:"",backgroundColor:"#000000",borderColor:"#000000",pointRadius:0,data:[{x:2.35,y:1450},{x:2.35,y:1468},{x:2.418,y:1900},{x:2.434,y:1999},{x:2.48,y:1999},{x:2.48,y:1700},{x:2.454,y:1450},{x:2.35,y:1450}]},{label:"",backgroundColor:"#000000",borderColor:"#000000",borderDash:[5,5],pointRadius:0,data:[{x:2.418,y:1900},{x:2.48,y:1900}]}]})),o={responsive:!0,showLine:!0,maintainAspectRatio:!1,scales:{x:{position:"bottom",min:2.35,max:2.5},y:{position:"left",min:1450,max:2e3}}};return(r,c)=>(g(),M(m(Q),{"chart-options":o,"chart-data":m(a),"chart-id":n.chartId,plugins:n.plugins,"css-classes":n.cssClasses,style:L(n.styles)},null,8,["chart-data","chart-id","plugins","css-classes","style"]))}},ie={class:"border-collapse border-black border-2 table-fixed w-full"},de=e("thead",null,[e("tr",{class:"h-0"},[e("th",{class:"w-1/6"}),e("th",{class:"w-2/6"}),e("th",{class:"w-1/6"}),e("th",{class:"w-2/6"})]),e("tr",null,[e("th",{colspan:"4"},"V Speed")])],-1),pe=e("span",null,[v("V"),e("sub",null,"R")],-1),me=e("span",null,[v("V"),e("sub",null,"S1")],-1),ce=e("span",null,[v("V"),e("sub",null,"X")],-1),we=e("span",null,[v("V"),e("sub",null,"S")],-1),fe=e("span",null,[v("V"),e("sub",null,"Y")],-1),be=e("span",null,[v("V"),e("sub",null,"S0")],-1),ge=e("span",null,[v("V"),e("sub",null,"O")],-1),he=e("span",null,[v("V"),e("sub",null,"MCA")],-1),_e={__name:"Airspeed42",props:{tow:{type:h,required:!0},ldw:{type:h,required:!0},type:{type:String,required:!0}},setup(C){const n=C,a=$(),o=l(()=>{switch(n.type){case"DA42NG":return W;case"DA42VI":return ee;default:return W}});function r(c,s,f){return c[0]==NaN||c[1]==NaN?NaN:c[0]==c[1]&&c[1]!=NaN?s[c[0]]:te(le(c[0],s[c[0]],c[1],s[c[1]],f))}return a.airspeed.vo=l(()=>(V(o.value.maneuverSpeeds,n.ldw.weight),r(V(o.value.maneuverSpeeds,n.ldw.weight),o.value.maneuverSpeeds,n.ldw.weight))),a.airspeed.vr=l(()=>r(V(o.value.rotationSpeeds,n.tow.weight),o.value.rotationSpeeds,n.tow.weight)),a.airspeed.v50=l(()=>r(V(o.value.bestAngleClimbSpeeds,n.tow.weight),o.value.bestAngleClimbSpeeds,n.tow.weight)),a.airspeed.vsup=l(()=>r(V(o.value.stallUpSpeeds,n.tow.weight),o.value.stallUpSpeeds,n.tow.weight)),a.airspeed.vsto=l(()=>r(V(o.value.stallToSpeeds,n.tow.weight),o.value.stallToSpeeds,n.tow.weight)),a.airspeed.vsldg=l(()=>r(V(o.value.stallLdgSpeeds,n.tow.weight),o.value.stallLdgSpeeds,n.tow.weight)),a.airspeed.vmcaup=l(()=>o.value.minimumControlSpeedsUp),a.airspeed.vmcaapp=l(()=>o.value.minimumControlSpeedsApp),a.airspeed.vy=l(()=>r(V(o.value.bestRateClimbSpeedsUp,n.tow.weight),o.value.bestRateClimbSpeedsUp,n.tow.weight)),a.airspeed.vyTO=l(()=>r(V(o.value.bestRateClimbSpeedsApp,n.tow.weight),o.value.bestRateClimbSpeedsApp,n.tow.weight)),(c,s)=>(g(),y("table",ie,[de,e("tbody",null,[e("tr",null,[t(i,null,{default:w(()=>[pe]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vr),1)]),_:1}),t(i,null,{default:w(()=>[me]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vsup),1)]),_:1})]),e("tr",null,[t(i,null,{default:w(()=>[ce]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.v50),1)]),_:1}),t(i,null,{default:w(()=>[we]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vsto),1)]),_:1})]),e("tr",null,[t(i,null,{default:w(()=>[fe]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vy)+" | "+b(m(a).airspeed.vyTO),1)]),_:1}),t(i,null,{default:w(()=>[be]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vsldg),1)]),_:1})]),e("tr",null,[t(i,null,{default:w(()=>[ge]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vo),1)]),_:1}),t(i,null,{default:w(()=>[he]),_:1}),t(i,null,{default:w(()=>[e("span",null,b(m(a).airspeed.vmcaup)+" | "+b(m(a).airspeed.vmcaapp),1)]),_:1})])])]))}},xe={class:"border-collapse border-black border-2 table-fixed w-full"},ye=e("span",null,"AE CLB Rate",-1),Ve=e("span",null,"OEI CLB Rate",-1),Ce=e("span",null,"Ft'/Min",-1),Se=e("span",null,"LDG Distance",-1),ve=e("span",null,"Meter",-1),De=e("span",null,"Acc-Stop",-1),Ee=e("span",null,"Meter",-1),Ie={__name:"Performance42",props:{tow:{type:h,required:!0},ldw:{type:h,required:!0},type:{type:String,required:!0}},setup(C){const n=C,a=new $,o=D({tow:l(()=>n.tow.weight<=1700?1700:n.tow.weight),ldw:l(()=>n.ldw.weight<=1700?1700:n.ldw.weight)}),r=D({temperature:15,runwayIdent:"04",windDirection:40,windSpeed:0}),c=D({AETemperature:5,AEAltitude:8e3,OEIClimb1000Temperature:10,OEIClimb5000Temperature:6,OEIClimb8000Temperature:0}),s=D({temperature:15,runwayIdent:"04",windDirection:40,windSpeed:0}),f=l(()=>{switch(n.type){case"DA42NG":return R;case"DA42VI":return ae;default:return R}});x();function x(){a.performance={takeoff:new O(l(()=>r.temperature),0,l(()=>o.tow),l(()=>f.value.TODistance),l(()=>r.runwayIdent),l(()=>r.windDirection),l(()=>r.windSpeed)),takeoff50:new O(l(()=>r.temperature),0,l(()=>o.tow),l(()=>f.value.TO50Distance),l(()=>r.runwayIdent),l(()=>r.windDirection),l(()=>r.windSpeed)),AEClimb:new T(l(()=>c.AETemperature),l(()=>c.AEAltitude),l(()=>o.tow),l(()=>f.value.AEClimbRate)),OEIClimb1000:new T(l(()=>c.OEIClimb1000Temperature),1e3,l(()=>o.tow),l(()=>f.value.OEIClimbRate)),OEIClimb5000:new T(l(()=>c.OEIClimb5000Temperature),5e3,l(()=>o.tow),l(()=>f.value.OEIClimbRate)),OEIClimb8000:new T(l(()=>c.OEIClimb8000Temperature),8e3,l(()=>o.tow),l(()=>f.value.OEIClimbRate)),landing:new O(l(()=>s.temperature),0,l(()=>o.ldw),l(()=>f.value.LDGDistance),l(()=>s.runwayIdent),l(()=>s.windDirection),l(()=>s.windSpeed)),landing50:new O(l(()=>s.temperature),0,l(()=>o.ldw),l(()=>f.value.LDG50Distance),l(()=>s.runwayIdent),l(()=>s.windDirection),l(()=>s.windSpeed)),accelerateStop:l(()=>a.performance.takeoff.distance+a.performance.landing.distance+85)}}return(p,d)=>(g(),y("table",xe,[e("tbody",null,[e("tr",null,[t(i,{class:"w-2/12 text-right pr-2",text:"T/O Distance"}),t(i,{class:"w-2/12"},{default:w(()=>[e("span",null,b(m(a).performance.takeoff.distance)+"|"+b(m(a).performance.takeoff50.distance),1)]),_:1}),t(i,{class:"w-1/12",text:"Meters"}),t(i,{class:"flex flex-row"},{default:w(()=>[t(_,{modelValue:r.temperature,"onUpdate:modelValue":d[0]||(d[0]=u=>r.temperature=u),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(_,{modelValue:r.runwayIdent,"onUpdate:modelValue":d[1]||(d[1]=u=>r.runwayIdent=u),"input-label":"RWY"},null,8,["modelValue"]),t(_,{modelValue:r.windDirection,"onUpdate:modelValue":d[2]||(d[2]=u=>r.windDirection=u),"input-label":"W. Dir"},null,8,["modelValue"]),t(_,{modelValue:r.windSpeed,"onUpdate:modelValue":d[3]||(d[3]=u=>r.windSpeed=u),modelModifiers:{number:!0},"input-label":"W. Spd"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(i,{class:"w-2/12 text-right pr-2"},{default:w(()=>[ye]),_:1}),t(i,{class:"w-2/12"},{default:w(()=>[e("span",null,b(m(a).performance.AEClimb.rate),1)]),_:1}),t(i,{class:"w-1/12",text:"Ft'/Min"}),t(i,{class:"flex flex-row"},{default:w(()=>[t(_,{modelValue:c.AETemperature,"onUpdate:modelValue":d[4]||(d[4]=u=>c.AETemperature=u),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(_,{modelValue:c.AEAltitude,"onUpdate:modelValue":d[5]||(d[5]=u=>c.AEAltitude=u),modelModifiers:{number:!0},"input-label":"Alt."},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(i,{class:"w-2/12 text-right pr-2"},{default:w(()=>[Ve]),_:1}),t(i,{class:"w-2/12"},{default:w(()=>[e("span",null,b(m(a).performance.OEIClimb1000.rate)+"|"+b(m(a).performance.OEIClimb5000.rate)+"|"+b(m(a).performance.OEIClimb8000.rate),1)]),_:1}),t(i,{class:"w-1/12"},{default:w(()=>[Ce]),_:1}),t(i,{class:"flex flex-row"},{default:w(()=>[t(_,{modelValue:c.OEIClimb1000Temperature,"onUpdate:modelValue":d[6]||(d[6]=u=>c.OEIClimb1000Temperature=u),modelModifiers:{number:!0},"input-label":"1000"},null,8,["modelValue"]),t(_,{modelValue:c.OEIClimb5000Temperature,"onUpdate:modelValue":d[7]||(d[7]=u=>c.OEIClimb5000Temperature=u),modelModifiers:{number:!0},"input-label":"5000"},null,8,["modelValue"]),t(_,{modelValue:c.OEIClimb8000Temperature,"onUpdate:modelValue":d[8]||(d[8]=u=>c.OEIClimb8000Temperature=u),modelModifiers:{number:!0},"input-label":"8000"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(i,{class:"w-2/12 text-right pr-2"},{default:w(()=>[Se]),_:1}),t(i,{class:"w-2/12"},{default:w(()=>[e("span",null,b(m(a).performance.landing.distance)+"|"+b(m(a).performance.landing50.distance),1)]),_:1}),t(i,{class:"w-1/12"},{default:w(()=>[ve]),_:1}),t(i,{class:"flex flex-row"},{default:w(()=>[t(_,{modelValue:s.temperature,"onUpdate:modelValue":d[9]||(d[9]=u=>s.temperature=u),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(_,{modelValue:s.runwayIdent,"onUpdate:modelValue":d[10]||(d[10]=u=>s.runwayIdent=u),"input-label":"RWY"},null,8,["modelValue"]),t(_,{modelValue:s.windDirection,"onUpdate:modelValue":d[11]||(d[11]=u=>s.windDirection=u),"input-label":"W. Dir"},null,8,["modelValue"]),t(_,{modelValue:s.windSpeed,"onUpdate:modelValue":d[12]||(d[12]=u=>s.windSpeed=u),modelModifiers:{number:!0},"input-label":"W. Spd"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(i,{class:"w-2/12 text-right pr-2"},{default:w(()=>[De]),_:1}),t(i,{class:"w-2/12"},{default:w(()=>[e("span",null,b(m(a).performance.accelerateStop),1)]),_:1}),t(i,{class:"w-1/12"},{default:w(()=>[Ee]),_:1}),t(i,{class:""})])])]))}},Ae={__name:"ExportButton42",props:{aircraftType:{type:String,default:"da40ng",required:!0},weight:{type:Object,required:!0}},setup(C){const n=C,a=$();let o={...n.weight,...a.weight};const r="/DA42NG_Form.pdf";async function c(){const s=await fetch(r).then(u=>u.arrayBuffer()),f=await ne.load(s),x=f.getForm();for(const[u,B]of Object.entries(o)){let k=B.exportField;console.log(k),Array.isArray(k)&&k.forEach(U=>{try{x.getTextField(U[0]).setText(U[1].toString())}catch{}})}const p=await f.save();let d=re().format("YYYYMMDDhhmmss");se(p,`${d}-WB-DA42.pdf`,"application/pdf")}return(s,f)=>(g(),y("button",{class:"border rounded-sm border-black bg-gray-200",onClick:c}," Export "))}},Fe={class:"h-8 border-2 border-black flex flex-row"},Oe={class:"flex-initial my-auto pl-4"},Te=e("span",{class:""},"Tail Number:",-1),$e=["value"],ke={class:"flex-initial my-auto px-4"},Me={class:"flex-initial my-auto px-4"},Ue={class:"flex-initial my-auto justify-self-end"},We={class:"grid md:grid-cols-2 gap-4 grid-cols-1 pt-2"},Re={class:"table-fixed border-black border-2 h-full"},Be=e("thead",null,[e("tr",null,[e("th",{class:"w-32"}),e("th",{class:"w-24"},"Mass (Kg)"),e("th",{class:"w-32"},"Lever arm (m)"),e("th",{class:"w-32"},"Moment (kg/m)")])],-1),Ne={class:"pt-2 flex flex-row"},Le={class:"basis-4/6"},ze={class:"basis-2/6"},Ge={__name:"Weight42",setup(C){const n=z("B-89001"),a=l(()=>c.find(x=>x.isSameIdent(n.value))),o=D({emptyWeight:new h("Empty Weihgt",l(()=>a.value.weight),l(()=>a.value.arm),void 0,"EM"),frontSeats:new h("Front Seats",160,2.3,void 0,"Front"),rearSeats:new h("Rear Seats",0,3.25,void 0,"Rear"),noseBaggage:new h("Nose Baggage",0,.6,void 0,"Nose"),cabinBaggage:new h("Cabin Baggage",0,3.89,void 0,"Cabin"),extensionBaggage:new h("Baggage Ext.",0,4.54,void 0,"Ext"),deicingFluid:new h("De-Icing Fluid",8.25,1,void 0,"DeIcing")}),r=D({mainFuel:new I("Main Fuel",0,159,2.63),auxFuel:new I("Aux Fuel",0,84,3.2),taxiFuel:new I("Taxi Fuel   -",0,1.28,2.63),burnMainFuel:new I("Trip F Used (M) -",0,0,2.63),burnAuxFuel:new I("Trip F Used (A) -",0,0,3.2)}),c=ue.filter(f=>f.isDA42),s=$();return s.weight={zfw:new h("ZFW",l(()=>Object.values(o).reduce((f,x)=>f+x.weight,0)),0,l(()=>Object.values(o).reduce((f,x)=>f+x.moment,0))),tow:new h("TOW",l(()=>s.weight.zfw.weight+r.mainFuel.weight+r.auxFuel.weight-r.taxiFuel.weight),0,l(()=>s.weight.zfw.moment+r.mainFuel.moment+r.auxFuel.moment-r.taxiFuel.moment)),ldw:new h("LDW",l(()=>s.weight.tow.weight-r.burnMainFuel.weight-r.burnAuxFuel.weight),0,l(()=>s.weight.tow.moment-r.burnMainFuel.moment-r.burnAuxFuel.moment))},s.basic.aircraftIndex=l(()=>n.value),(f,x)=>(g(),y(E,null,[e("div",Fe,[e("div",Oe,[Te,q(e("select",{id:"aircraft-ident","onUpdate:modelValue":x[0]||(x[0]=p=>n.value=p)},[(g(!0),y(E,null,F(m(c),p=>(g(),y("option",{key:p.ident,value:p.ident},b(p.ident),9,$e))),128))],512),[[j,n.value]])]),e("div",ke,[e("span",null,"Fuel Tank: "+b(m(a).fuel[1]),1)]),e("div",Me,[e("span",null,"Baggage: "+b(m(a).baggage[0]),1)]),e("div",Ue,[t(Ae,{"aircraft-type":"da42ng",weight:{...o,...r}},null,8,["weight"])])]),e("div",We,[e("div",null,[e("table",Re,[Be,e("tbody",null,[(g(!0),y(E,null,F(o,(p,d)=>(g(),y("tr",{key:d,class:"h-1"},[e("td",null,[t(S,{text:p.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(A,{modelValue:p.weight,"onUpdate:modelValue":u=>p.weight=u,modelModifiers:{number:!0},"input-id":`${p.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(A,{modelValue:p.arm,"onUpdate:modelValue":u=>p.arm=u,modelModifiers:{number:!0},"input-id":`${p.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[d=="emptyWeight"?(g(),M(A,{key:0,modelValue:p.moment,"onUpdate:modelValue":u=>p.moment=u,modelModifiers:{number:!0},"input-id":`${p.label}-moment`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])):(g(),M(S,{key:1,text:p.moment},null,8,["text"]))])]))),128)),(g(!0),y(E,null,F(r,(p,d)=>(g(),y("tr",{key:d,class:"h-1"},[e("td",null,[t(S,{text:p.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(A,{modelValue:p.weight,"onUpdate:modelValue":u=>p.weight=u,modelModifiers:{number:!0},"input-id":`${p.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(A,{modelValue:p.arm,"onUpdate:modelValue":u=>p.arm=u,modelModifiers:{number:!0},"input-id":`${p.label}-arm`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(S,{text:p.moment},null,8,["text"])])]))),128)),(g(!0),y(E,null,F(m(s).weight,(p,d)=>(g(),y("tr",{key:d,class:"h-1"},[e("td",null,[t(S,{text:p.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(S,{text:p.weight},null,8,["text"])]),e("td",null,[t(S,{text:p.cg},null,8,["text"])]),e("td",null,[t(S,{text:p.moment},null,8,["text"])])]))),128))])])]),t(oe,{zfw:m(s).weight.zfw,tow:m(s).weight.tow,ldw:m(s).weight.ldw,"dataset-id-key":"weight","css-classes":"h-full"},null,8,["zfw","tow","ldw"])]),e("div",Ne,[e("div",Le,[t(Ie,{tow:m(s).weight.tow,ldw:m(s).weight.ldw,type:m(a).type},null,8,["tow","ldw","type"])]),e("div",ze,[t(_e,{tow:m(s).weight.tow,ldw:m(s).weight.ldw,type:m(a).type},null,8,["tow","ldw","type"])])])],64))}};export{Ge as default};
