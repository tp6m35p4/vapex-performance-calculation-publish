import{c as a,o as h,a as $,z as J,u as w,b as V,e,p as t,w as m,f as D,t as b,i as v,s as Q,h as X,k as ee,l as te,F as A,m as B}from"./index-pHVOK9_9.js";import{C as le,p as ae,a as ne,b as re,L as ie,c as se,d as ue,P as oe,S as de,W as x,_ as y,F as I,e as F,f as k}from"./WeightP-DJ_wd9Uy.js";import{u as O,_ as u,g as M,p as U,q as z,s as q,t as P,v as j,w as Y,x as W,l as me,i as pe,y as N,P as Z,z as we,m as fe,h as ge,n as ce,a as be}from"./calculatedData-BTw9oXD1.js";const _e={basic:{row:[["tailNumber",[!0,"Tail_Number",0]]]},weight:{row:[["emptyWeight",[!0,"weight","EM_Mass"],[!0,"arm","EM_Arm"],[!0,"moment","EM_Moment"]],["frontSeats",[!0,"weight","Front_Mass"],[!1,"arm","Front_Arm"],[!0,"moment","Front_Moment"]],["rearSeats",[!0,"weight","Rear_Mass"],[!1,"arm","Rear_Arm"],[!0,"moment","Rear_Moment"]],["stdBaggage",[!0,"weight","STD_Baggage_Mass"],[!1,"arm","STD_Baggage_Arm"],[!0,"moment","STD_Baggage_Moment"]],["shortExtension",[!0,"weight","Short_Ext_Baggage_Mass"],[!1,"arm","Short_Ext_Baggage_Arm"],[!0,"moment","Short_Ext_Baggage_Moment"]],["forwardBaggage",[!0,"weight","Ext_FWD_Baggage_Mass"],[!1,"arm","Ext_FWD_Baggage_Arm"],[!0,"moment","Ext_FWD_Baggage_Moment"]],["afterBaggage",[!0,"weight","Ext_AFT_Baggage_Mass"],[!1,"arm","Ext_AFT_Baggage_Arm"],[!0,"moment","Ext_AFT_Baggage_Moment"]],["zfw",[!0,"weight","ZF_Mass"],[!0,"cg","ZF_Arm"],[!0,"moment","ZF_Moment"]],["usableFuel",[!0,"weight","Fuel_Mass"],[!1,"arm","Fuel_Arm"],[!0,"moment","Fuel_Moment"]],["taxiFuel",[!1,"weight",0],[!1,"arm",0],[!1,"moment",0]],["tow",[!0,"weight","TO_Mass"],[!0,"cg","TO_Arm"],[!0,"moment","TO_Moment"]],["burnFuel",[!0,"weight","Fuel_Used_Mass"],[!1,"arm","Fuel_Used_Arm"],[!0,"moment","Fuel_Used_Moment"]],["ldw",[!0,"weight","LD_Mass"],[!0,"cg","LD_Arm"],[!0,"moment","LD_Moment"]]]},airspeed:{row:[["vr",[!0,"VR",0]],["v50",[!0,"V50",0]],["vyTO",[!0,"VY_TO",0]],["vy",[!0,"VY",0]],["vrefTO",[!0,"Vref_TOW",0]],["vrefLD",[!0,"Vref_LDW",0]],["vo",[!0,"VO",0]],["vsup",[!0,"VS_UP",0]],["vsto",[!0,"VS_TO",0]],["vsldg",[!0,"VS0",0]]]},performance:{row:[["takeoff",[!0,"Takeoff_Distance",0]],["takeoff50",[!0,"Takeoff_50_Distance",0]],["initailClimb",[!0,"Initial_Climb_Rate",0]],["cruiseClimb",[!0,"Cruise_Climb_Rate",0]],["landing",[!0,"Landing_Distance",0]],["landing50",[!0,"Landing_50_Distance",0]],["accelerateStop",[!0,"AccelerateStop",0]]]}},he={basic:[],body:[]},xe={da40ng:_e,navlog:he},ye={__name:"WeightChart",props:{zfw:{type:Object,required:!0},tow:{type:Object,required:!0},ldw:{type:Object,required:!0},chartId:{type:String,default:"scatter-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>({})},plugins:Array},setup(S){le.register(ae,ne,re,ie,se,ue,oe);const n=S,s=a(()=>({datasets:[{label:"ZFW",fill:!1,borderColor:"#f87979",backgroundColor:"#f87979",data:[{x:n.zfw.cg,y:n.zfw.weight}]},{label:"TOW",fill:!1,borderColor:"#f5b642",backgroundColor:"#f5b642",data:[{x:n.tow.cg,y:n.tow.weight}]},{label:"LDW",fill:!1,borderColor:"#32CD32",backgroundColor:"#32CD32",data:[{x:n.ldw.cg,y:n.ldw.weight}]},{label:"Normal",backgroundColor:"#000000",borderColor:"#000000",pointRadius:0,data:[{x:2.4,y:940},{x:2.4,y:1080},{x:2.47,y:1310},{x:2.53,y:1310},{x:2.53,y:940},{x:2.4,y:940}]}]})),f={responsive:!0,showLine:!0,maintainAspectRatio:!1,scales:{x:{position:"bottom",min:2.4,max:2.56},y:{position:"left",min:940,max:1320}}};return(i,l)=>(h(),$(w(de),{"chart-options":f,"chart-data":s.value,"chart-id":n.chartId,plugins:n.plugins,"css-classes":n.cssClasses,style:J(n.styles)},null,8,["chart-data","chart-id","plugins","css-classes","style"]))}},Ve={class:"border-collapse border-black border-2 table-fixed w-full"},Se={__name:"Airspeed",props:{tow:{type:x,required:!0},ldw:{type:x,required:!0}},setup(S){const n=O(),s=S;function f(i,l,g){return i[0]==NaN||i[1]==NaN?NaN:i[0]==i[1]&&i[1]!=NaN?l[i[0]]:me(pe(i[0],l[i[0]],i[1],l[i[1]],g))}return n.airspeed.vo=a(()=>{let i=M(U,s.ldw.weight);return i[0]==NaN?NaN:i[1]==NaN?U[i[1]]:i[0]==i[1]!=NaN?U[i[0]]:U[i[0]]}),n.airspeed.vr=a(()=>f(M(z,s.tow.weight),z,s.tow.weight)),n.airspeed.v50=a(()=>f(M(q,s.tow.weight),q,s.tow.weight)),n.airspeed.vsup=a(()=>f(M(P,s.tow.weight),P,s.tow.weight)),n.airspeed.vsto=a(()=>f(M(j,s.tow.weight),j,s.tow.weight)),n.airspeed.vsldg=a(()=>f(M(Y,s.tow.weight),Y,s.tow.weight)),n.airspeed.vrefTO=a(()=>f(M(W,s.tow.weight),W,s.tow.weight)),n.airspeed.vrefLD=a(()=>f(M(W,s.ldw.weight),W,s.ldw.weight)),n.airspeed.vy=88,n.airspeed.vyTO=72,(i,l)=>(h(),V("table",Ve,[l[8]||(l[8]=e("thead",null,[e("tr",{class:"h-0"},[e("th",{class:"w-1/6"}),e("th",{class:"w-2/6"}),e("th",{class:"w-1/6"}),e("th",{class:"w-2/6"})]),e("tr",null,[e("th",{colspan:"4"},"V Speed")])],-1)),e("tbody",null,[e("tr",null,[t(u,null,{default:m(()=>l[0]||(l[0]=[e("span",null,[D("V"),e("sub",null,"r")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vr),1)]),_:1}),t(u,null,{default:m(()=>l[1]||(l[1]=[e("span",null,[D("V"),e("sub",null,"o")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vo),1)]),_:1})]),e("tr",null,[t(u,null,{default:m(()=>l[2]||(l[2]=[e("span",null,[D("V"),e("sub",null,"50")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.v50),1)]),_:1}),t(u,null,{default:m(()=>l[3]||(l[3]=[e("span",null,[D("V"),e("sub",null,"S UP")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vsup),1)]),_:1})]),e("tr",null,[t(u,null,{default:m(()=>l[4]||(l[4]=[e("span",null,[D("V"),e("sub",null,"Y")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vyTO)+" | "+b(w(n).airspeed.vy),1)]),_:1}),t(u,null,{default:m(()=>l[5]||(l[5]=[e("span",null,[D("V"),e("sub",null,"S T/O")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vsto),1)]),_:1})]),e("tr",null,[t(u,null,{default:m(()=>l[6]||(l[6]=[e("span",null,[D("V"),e("sub",null,"REF")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vrefTO)+" - "+b(w(n).airspeed.vrefLD),1)]),_:1}),t(u,null,{default:m(()=>l[7]||(l[7]=[e("span",null,[D("V"),e("sub",null,"S0")],-1)])),_:1}),t(u,null,{default:m(()=>[e("span",null,b(w(n).airspeed.vsldg),1)]),_:1})])])]))}},De={class:"border-collapse border-black border-2 table-fixed w-full"},Fe={__name:"Performance",props:{tow:{type:x,required:!0},ldw:{type:x,required:!0}},setup(S){const n=new O,s=S,f=v({tow:a(()=>s.tow.weight<=1100?1100:s.tow.weight),ldw:a(()=>s.ldw.weight<=1100?1100:s.ldw.weight)});a(()=>s.tow.weight<=1100?1100:s.tow.weight),a(()=>s.ldw.weight<=1100?1100:s.ldw.weight);const i=a(()=>we),l=v({temperature:15,runwayIdent:"04",windDirection:40,windSpeed:10}),g=v({initialTemperature:11,initialAltitude:2e3,cruiseClimbTemperature:-1,cruiseClimbAltitude:8e3}),p=v({temperature:15,runwayIdent:"04",windDirection:40,windSpeed:10});c(),Q(()=>{c()});function c(){n.performance={takeoff:new N(a(()=>l.temperature),0,a(()=>f.tow),i.value.TODistance,a(()=>l.runwayIdent),a(()=>l.windDirection),a(()=>l.windSpeed)),takeoff50:new N(a(()=>l.temperature),0,a(()=>f.tow),i.value.TO50Distance,a(()=>l.runwayIdent),a(()=>l.windDirection),a(()=>l.windSpeed)),initailClimb:new Z(a(()=>g.initialTemperature),a(()=>g.initialAltitude),a(()=>f.tow),i.value.InitialClimbRate),cruiseClimb:new Z(a(()=>g.cruiseClimbTemperature),a(()=>g.cruiseClimbAltitude),a(()=>f.tow),i.value.CruiseClimbRate),landing:new N(a(()=>p.temperature),0,a(()=>f.ldw),i.value.LDGDistance,a(()=>p.runwayIdent),a(()=>p.windDirection),a(()=>p.windSpeed)),landing50:new N(a(()=>p.temperature),0,a(()=>f.ldw),i.value.LDG50Distance,a(()=>p.runwayIdent),a(()=>p.windDirection),a(()=>p.windSpeed)),accelerateStop:a(()=>n.performance.takeoff.distance+n.performance.landing.distance+70)}}return a(()=>Takeoff.distance+Landing.distance+70),(d,r)=>(h(),V("table",De,[e("tbody",null,[e("tr",null,[t(u,{class:"w-2/12 text-right pr-2",text:"T/O Distance"}),t(u,{class:"w-2/12"},{default:m(()=>[e("span",null,b(w(n).performance.takeoff.distance)+"|"+b(w(n).performance.takeoff50.distance),1)]),_:1}),t(u,{class:"w-1/12",text:"Meters"}),t(u,{class:"flex flex-row"},{default:m(()=>[t(y,{modelValue:l.temperature,"onUpdate:modelValue":r[0]||(r[0]=o=>l.temperature=o),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(y,{modelValue:l.runwayIdent,"onUpdate:modelValue":r[1]||(r[1]=o=>l.runwayIdent=o),"input-label":"RWY"},null,8,["modelValue"]),t(y,{modelValue:l.windDirection,"onUpdate:modelValue":r[2]||(r[2]=o=>l.windDirection=o),"input-label":"W. Dir"},null,8,["modelValue"]),t(y,{modelValue:l.windSpeed,"onUpdate:modelValue":r[3]||(r[3]=o=>l.windSpeed=o),modelModifiers:{number:!0},"input-label":"W. Spd"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(u,{class:"w-2/12 text-right pr-2"},{default:m(()=>r[12]||(r[12]=[e("span",null,"Init. CLB Rate",-1)])),_:1}),t(u,{class:"w-2/12"},{default:m(()=>[e("span",null,b(w(n).performance.initailClimb.rate),1)]),_:1}),t(u,{class:"w-1/12",text:"Ft'/Min"}),t(u,{class:"flex flex-row"},{default:m(()=>[t(y,{modelValue:g.initialTemperature,"onUpdate:modelValue":r[4]||(r[4]=o=>g.initialTemperature=o),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(y,{modelValue:g.initialAltitude,"onUpdate:modelValue":r[5]||(r[5]=o=>g.initialAltitude=o),modelModifiers:{number:!0},"input-label":"Alt."},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(u,{class:"w-2/12 text-right pr-2"},{default:m(()=>r[13]||(r[13]=[e("span",null,"CRZ CLB Rate",-1)])),_:1}),t(u,{class:"w-2/12"},{default:m(()=>[e("span",null,b(w(n).performance.cruiseClimb.rate),1)]),_:1}),t(u,{class:"w-1/12"},{default:m(()=>r[14]||(r[14]=[e("span",null,"Ft'/Min",-1)])),_:1}),t(u,{class:"flex flex-row"},{default:m(()=>[t(y,{modelValue:g.cruiseClimbTemperature,"onUpdate:modelValue":r[6]||(r[6]=o=>g.cruiseClimbTemperature=o),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(y,{modelValue:g.cruiseClimbAltitude,"onUpdate:modelValue":r[7]||(r[7]=o=>g.cruiseClimbAltitude=o),"input-label":"Alt"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(u,{class:"w-2/12 text-right pr-2"},{default:m(()=>r[15]||(r[15]=[e("span",null,"LDG Distance",-1)])),_:1}),t(u,{class:"w-2/12"},{default:m(()=>[e("span",null,b(w(n).performance.landing.distance)+"|"+b(w(n).performance.landing50.distance),1)]),_:1}),t(u,{class:"w-1/12"},{default:m(()=>r[16]||(r[16]=[e("span",null,"Meter",-1)])),_:1}),t(u,{class:"flex flex-row"},{default:m(()=>[t(y,{modelValue:p.temperature,"onUpdate:modelValue":r[8]||(r[8]=o=>p.temperature=o),modelModifiers:{number:!0},"input-label":"Temp."},null,8,["modelValue"]),t(y,{modelValue:p.runwayIdent,"onUpdate:modelValue":r[9]||(r[9]=o=>p.runwayIdent=o),"input-label":"RWY"},null,8,["modelValue"]),t(y,{modelValue:p.windDirection,"onUpdate:modelValue":r[10]||(r[10]=o=>p.windDirection=o),"input-label":"W. Dir"},null,8,["modelValue"]),t(y,{modelValue:p.windSpeed,"onUpdate:modelValue":r[11]||(r[11]=o=>p.windSpeed=o),modelModifiers:{number:!0},"input-label":"W. Spd"},null,8,["modelValue"])]),_:1})]),e("tr",null,[t(u,{class:"w-2/12 text-right pr-2"},{default:m(()=>r[17]||(r[17]=[e("span",null,"Acc-Stop",-1)])),_:1}),t(u,{class:"w-2/12"},{default:m(()=>[e("span",null,b(w(n).performance.accelerateStop),1)]),_:1}),t(u,{class:"w-1/12"},{default:m(()=>r[18]||(r[18]=[e("span",null,"Meter",-1)])),_:1}),t(u,{class:""})])])]))}},Me="/DA40NG_Form.pdf",Te={__name:"ExportButton",props:{aircraftType:{type:String,default:"da40ng",required:!0},weight:{type:Object,required:!0}},setup(S){const n=O(),s=S;let f={...s.weight,...n.weight};async function i(){const l=await fetch(Me).then(C=>C.arrayBuffer()),g=await fe.load(l),p=g.getForm();let c=xe[s.aircraftType];c.basic.row.forEach(function(_,E){if(_[1][0])try{p.getTextField(_[1][1]).setText(n.airspeed[_[0]].toString())}catch{}}),c.weight.row.forEach(function(_,E){let T=f[_[0]];for(let L=1;L<_.length;L++){let R=_[L];if(R[0])try{p.getTextField(R[2]).setText(T[R[1]].toString())}catch{}}}),c.airspeed.row.forEach(function(_,E){if(_[1][0])try{p.getTextField(_[1][1]).setText(n.airspeed[_[0]].toString())}catch{}}),c.performance.row.forEach(function(_,E){if(_[1][0])try{p.getTextField(_[1][1]).setText(n.performance[_[0]].toString())}catch{}});const G=await g.save();let K=ge().format("YYYYMMDDhhmmss");ce(G,`${K}-WB-DA40NG.pdf`,"application/pdf")}return(l,g)=>(h(),V("button",{class:"border rounded-sm border-black bg-gray-200",onClick:i}," Export "))}},ve={class:"h-8 border-2 border-black flex flex-row"},Ce={class:"flex-initial my-auto pl-4"},Ae=["value"],ke={class:"flex-initial my-auto px-4"},Be={class:"flex-initial my-auto px-4"},Ue={class:"flex-initial my-auto justify-self-end"},We={class:"grid md:grid-cols-2 gap-4 grid-cols-1 pt-2"},Ne={class:"table-fixed border-black border-2 h-full"},Oe={class:"pt-2 flex flex-row"},Ee={class:"basis-4/6"},Le={class:"basis-2/6"},qe={__name:"Weight1",setup(S){const n=X("B-88001"),s=a(()=>g.find(c=>c.isSameIdent(n.value))),f=v({emptyWeight:new x("Empty Weihgt",a(()=>s.value.weight),a(()=>s.value.arm),a(()=>s.value.moment)),frontSeats:new x("Front Seats",160,2.3),rearSeats:new x("Rear Seats",0,3.25),stdBaggage:new x("Std. Baggage",0,3.65),shortExtension:new x("Short Extension",0,3.97),forwardBaggage:new x("FWD Baggage",0,3.89),afterBaggage:new x("AFT Baggage",0,4.54)}),i=v({usableFuel:new I("Fuel Carried",0,a(()=>s.value.fuel[0]),2.63),taxiFuel:new I("Taxi Fuel   -",0,.64,2.63),burnFuel:new I("Trip Fuel Used   -",0,29.1,2.63)}),l=O(),g=be.filter(p=>p.isDA40);return l.weight={zfw:new x("ZFW",a(()=>Object.values(f).reduce((p,c)=>p+c.weight,0)),0,a(()=>Object.values(f).reduce((p,c)=>p+c.moment,0))),tow:new x("TOW",a(()=>l.weight.zfw.weight+i.usableFuel.weight-i.taxiFuel.weight),0,a(()=>l.weight.zfw.moment+i.usableFuel.moment-i.taxiFuel.moment)),ldw:new x("LDW",a(()=>l.weight.tow.weight-i.burnFuel.weight),0,a(()=>l.weight.tow.moment-i.burnFuel.moment))},l.basic.aircraftIndex=a(()=>n.value),(p,c)=>(h(),V(A,null,[e("div",ve,[e("div",Ce,[c[1]||(c[1]=e("span",{class:""},"Tail Number:",-1)),ee(e("select",{id:"aircraft-ident","onUpdate:modelValue":c[0]||(c[0]=d=>n.value=d)},[(h(!0),V(A,null,B(w(g),d=>(h(),V("option",{key:d.ident,value:d.ident},b(d.ident),9,Ae))),128))],512),[[te,n.value]])]),e("div",ke,[e("span",null,"Fuel Tank: "+b(s.value.fuel[1]),1)]),e("div",Be,[e("span",null,"Baggage: "+b(s.value.baggage[0]),1)]),e("div",Ue,[t(Te,{"aircraft-type":"da40ng",weight:{...f,...i}},null,8,["weight"])])]),e("div",We,[e("div",null,[e("table",Ne,[c[2]||(c[2]=e("thead",null,[e("tr",null,[e("th",{class:"w-32"}),e("th",{class:"w-24"},"Mass (Kg)"),e("th",{class:"w-32"},"Lever arm (m)"),e("th",{class:"w-32"},"Moment (kg/m)")])],-1)),e("tbody",null,[(h(!0),V(A,null,B(f,(d,r)=>(h(),V("tr",{key:r,class:"h-1"},[e("td",null,[t(F,{text:d.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(k,{modelValue:d.weight,"onUpdate:modelValue":o=>d.weight=o,modelModifiers:{number:!0},"input-id":`${d.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(k,{modelValue:d.arm,"onUpdate:modelValue":o=>d.arm=o,modelModifiers:{number:!0},"input-id":`${d.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[r=="emptyWeight"?(h(),$(k,{key:0,modelValue:d.moment,"onUpdate:modelValue":o=>d.moment=o,modelModifiers:{number:!0},"input-id":`${d.label}-moment`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])):(h(),$(F,{key:1,text:d.moment},null,8,["text"]))])]))),128)),(h(!0),V(A,null,B(i,(d,r)=>(h(),V("tr",{key:r,class:"h-1"},[e("td",null,[t(F,{text:d.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(k,{modelValue:d.weight,"onUpdate:modelValue":o=>d.weight=o,modelModifiers:{number:!0},"input-id":`${d.label}-weight`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(k,{modelValue:d.arm,"onUpdate:modelValue":o=>d.arm=o,modelModifiers:{number:!0},"input-id":`${d.label}-arm`,"with-label":!1},null,8,["modelValue","onUpdate:modelValue","input-id"])]),e("td",null,[t(F,{text:d.moment},null,8,["text"])])]))),128)),(h(!0),V(A,null,B(w(l).weight,(d,r)=>(h(),V("tr",{key:r,class:"h-1"},[e("td",null,[t(F,{text:d.label,class:"font-bold"},null,8,["text"])]),e("td",null,[t(F,{text:d.weight},null,8,["text"])]),e("td",null,[t(F,{text:d.cg},null,8,["text"])]),e("td",null,[t(F,{text:d.moment},null,8,["text"])])]))),128))])])]),t(ye,{zfw:w(l).weight.zfw,tow:w(l).weight.tow,ldw:w(l).weight.ldw,"dataset-id-key":"weight","css-classes":"h-full"},null,8,["zfw","tow","ldw"])]),e("div",Oe,[e("div",Ee,[t(Fe,{tow:w(l).weight.tow,ldw:w(l).weight.ldw},null,8,["tow","ldw"])]),e("div",Le,[t(Se,{tow:w(l).weight.tow,ldw:w(l).weight.ldw},null,8,["tow","ldw"])])])],64))}};export{qe as default};
